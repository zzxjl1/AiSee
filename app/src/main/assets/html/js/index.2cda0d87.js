(function(){"use strict";var __webpack_modules__={9927:function(e,t,n){var a=n(9242),i=n(3396),s=n(7139),o=n.p+"img/notebook.17e4521e.svg",l=n.p+"img/search.cebd93e1.svg",r="data:image/png;base64,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",c=n.p+"img/web.18779cbc.svg",d=n.p+"img/person.308b1466.svg";const u=(0,i._)("div",{class:"tab-frame"},[(0,i._)("img",{src:o}),(0,i._)("span",null,"新闻")],-1),_=(0,i._)("div",{class:"tab-frame"},[(0,i._)("img",{src:l}),(0,i._)("span",null,"搜索")],-1),g={class:"tab-item"},h=(0,i._)("img",{style:{width:"45px",padding:"0"},src:r},null,-1),p=(0,i._)("span",null,"语音控制",-1),m=[h,p],w=(0,i._)("div",{class:"tab-frame"},[(0,i._)("img",{src:c}),(0,i._)("span",null,"工具箱")],-1),b=(0,i._)("div",{class:"tab-frame"},[(0,i._)("img",{src:d}),(0,i._)("span",null,"我的")],-1);function v(e,t,n,a,o,l){const r=(0,i.up)("router-link"),c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("nav",{id:"nav",class:(0,s.C_)({hidden:l.isHidden})},[(0,i.Wm)(r,{to:"/",class:"tab-item"},{default:(0,i.w5)((()=>[u])),_:1}),(0,i.Wm)(r,{to:"/search",class:"tab-item"},{default:(0,i.w5)((()=>[_])),_:1}),(0,i._)("a",g,[(0,i._)("div",{class:(0,s.C_)(["tab-frame",{changecolor:l.micServiceRunning}]),onclick:"JS.toggle_micService()"},m,2)]),(0,i.Wm)(r,{to:"/toolbox",class:"tab-item"},{default:(0,i.w5)((()=>[w])),_:1}),(0,i.Wm)(r,{to:"/about",class:"tab-item"},{default:(0,i.w5)((()=>[b])),_:1})],2),(0,i.Wm)(c,null,{default:(0,i.w5)((({Component:e})=>[((0,i.wg)(),(0,i.j4)(i.Ob,null,[((0,i.wg)(),(0,i.j4)((0,i.LL)(e)))],1024))])),_:1})],64)}var f=n(8874),k=n(6265),S=n.n(k);S().defaults.timeout=6e4,S().defaults.withCredentials=!0,S().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";try{S().defaults.baseURL=JS.get_httpBaseUrl()}catch(Wt){S().defaults.baseURL="http://localhost:4000"}function y(e,t={}){return new Promise(((n,a)=>{S().get(e,{params:t}).then((e=>{n(e.data)})).catch((e=>{a(e)}))}))}const T=()=>y("/ping"),x=(e,t)=>y(`/news/${e}`,t),A=e=>y("/news/search",e);var L={name:"navBar",data(){return{}},computed:{isHidden:{get(){return this.$store.state.navBarHidden}},micServiceRunning:{get(){return this.$store.state.micServiceRunning}}},methods:{...(0,f.nv)(["update_loginState"]),startcapture(){JS.startcapture()}},mounted(){this.update_loginState(),T().then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}},I=n(89);const N=(0,I.Z)(L,[["render",v]]);var D=N,H=n(678);const B={class:"home"};function C(e,t,n,a,s,o){const l=(0,i.up)("NewsView");return(0,i.wg)(),(0,i.iD)("div",B,[(0,i.Wm)(l)])}const R=e=>((0,i.dD)("data-v-a4c244e4"),e=e(),(0,i.Cn)(),e),O=R((()=>(0,i._)("span",{style:{width:"100%"}},"加载失败",-1))),M=[O],P={class:"pull-to-refresh"},U=(0,i.Uk)("到底了");function z(e,t,n,a,o,l){const r=(0,i.up)("swiper-slide"),c=(0,i.up)("swiper"),d=(0,i.up)("loading"),u=(0,i.up)("NewsItem"),_=(0,i.Q2)("touch");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{id:"tab",class:"tab","slides-per-view":5,"free-mode":!0,onBeforeInit:a.barInit,modules:a.modules},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.tabItems,((e,t)=>((0,i.wg)(),(0,i.j4)(r,{key:t,class:(0,s.C_)(["tabItem",{active:t==o.selectedTabIndex}]),onClick:e=>o.selectedTabIndex=t},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["onBeforeInit","modules"]),(0,i.Wm)(c,{"slides-per-view":1,spaceBetween:0,onSlideChange:a.onTabSlideChange,onSliderMove:a.onScroll,onBeforeInit:a.tabInit,modules:a.modules},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{active:o.isLoading,"can-cancel":!1,"is-full-page":!1,opacity:.5},null,8,["active","opacity"]),o.isError?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"loading-overlay",onClick:t[0]||(t[0]=(...e)=>l.fetchNews&&l.fetchNews(...e))},M)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.tabItems,((e,t)=>((0,i.wg)(),(0,i.j4)(r,{key:t,class:"container"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"swiper-fix","slides-per-view":2.5,direction:"vertical",spaceBetween:0,"auto-height":!0,scrollbar:{hide:!0},onSlideChange:a.onNewsSlideChange,onSliderMove:a.onScroll,onBeforeInit:a.newsListInit,onTouchMove:a.pullHandler,onTouchEnd:a.refreshHandler,modules:a.modules},{default:(0,i.w5)((()=>[(0,i._)("div",P,(0,s.zw)(o.pullToRefreshText),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.newsArray[e]["data"],((e,t)=>((0,i.wg)(),(0,i.j4)(r,{key:t},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(u,{title:e.title,tags:e.tags,created_at:e.created_at,source:e.source,bk_img:e.background_img,click_count:e.click_count,like_count:e.like_count,comment_count:e.comment_count,onClick:t=>l.showNewsDetail(e.id)},null,8,["title","tags","created_at","source","bk_img","click_count","like_count","comment_count","onClick"]),[[_,l.longPressHandler(e),"longtap"]])])),_:2},1024)))),128)),o.newsArray[e]["isEnd"]?((0,i.wg)(),(0,i.j4)(r,{key:0,style:{background:"wheat"}},{default:(0,i.w5)((()=>[U])),_:1})):(0,i.kq)("",!0)])),_:2},1032,["slides-per-view","onSlideChange","onSliderMove","onBeforeInit","onTouchMove","onTouchEnd","modules"])])),_:2},1024)))),128))])),_:1},8,["onSlideChange","onSliderMove","onBeforeInit","modules"])],64)}var q=n(4870),E=n(8008),j=n(7243);const J=e=>((0,i.dD)("data-v-6cd8941f"),e=e(),(0,i.Cn)(),e),Z={class:"card"},W=["src"],V={class:"card-infos"},Y={class:"card-date"},F=J((()=>(0,i._)("span",{class:"iconfont icon-clock"},null,-1))),G=(0,i.Uk)("  "),K={class:"tags"},X={class:"card-title"},Q={class:"card-bottom"},$={class:"card-source"},ee={class:"card-statistics"},te=J((()=>(0,i._)("span",{class:"iconfont icon-view"},null,-1))),ne=J((()=>(0,i._)("span",{class:"iconfont icon-like-fill"},null,-1))),ae=J((()=>(0,i._)("span",{class:"iconfont icon-comment"},null,-1)));function ie(e,t,n,a,o,l){const r=(0,i.up)("timeago");return(0,i.wg)(),(0,i.iD)("div",Z,[(0,i._)("img",{class:"card-image",src:n.bk_img?n.bk_img:"https://mdbcdn.b-cdn.net/img/new/fluid/city/018.webp"},null,8,W),(0,i._)("div",V,[(0,i._)("div",Y,[F,G,(0,i.Wm)(r,{datetime:n.created_at},null,8,["datetime"])]),(0,i._)("div",K,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.tags,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t,style:{"background-color":"#ff2d55"},class:"chip"},(0,s.zw)(e),1)))),128))]),(0,i._)("h2",X,(0,s.zw)(n.title),1),(0,i._)("div",Q,[(0,i._)("div",$,[(0,i._)("div",null,"来源于 "+(0,s.zw)(n.source),1)]),(0,i._)("div",ee,[te,(0,i.Uk)((0,s.zw)(n.click_count)+" ",1),ne,(0,i.Uk)((0,s.zw)(n.like_count)+" ",1),ae,(0,i.Uk)((0,s.zw)(n.comment_count),1)])])])])}var se={name:"NewsItem",data(){return{}},props:{source:String,title:String,tags:Array,created_at:String,click_count:Number,like_count:Number,comment_count:Number,bk_img:String}};const oe=(0,I.Z)(se,[["render",ie],["__scopeId","data-v-6cd8941f"]]);var le,re,ce,de=oe,ue=n(3752),_e=n.n(ue),ge={name:"newsView",components:{Swiper:E.tq,SwiperSlide:E.o5,NewsItem:de,Loading:_e()},setup(){var e=(0,q.iH)({}),t=(0,q.iH)({});const n=(0,i.FN)(),{$store:a}=n.appContext.app.config.globalProperties,s=e=>{console.log("news slide change",e);var n=e.activeIndex;clearTimeout(t),n+5>e.slides.length&&le.fetchMore()},o=e=>{console.log("tab slide change",e),le.selectedTabIndex=e.activeIndex},l=()=>{a.dispatch("hide_Navbar"),clearTimeout(e),e=setTimeout((()=>{a.dispatch("show_Navbar")}),500)},r=e=>{re=e},c=e=>{ce=e},d=e=>{e};var u="";const _=e=>{!e.isBeginning||e.translate<=0?le.pullToRefreshText="":(u=le.pullToRefreshText,e.translate<70&&e.translate>20?le.pullToRefreshText="继续下拉":e.translate>70&&(le.pullToRefreshText="松开刷新"),u!=le.pullToRefreshText&&le.speek(le.pullToRefreshText,!0,!0))},g=e=>{e.translate>70&&(le.fetchNews(),le.speek("刷新",!0,!0))};return{modules:[j.LW,j.Rv],onNewsSlideChange:s,onTabSlideChange:o,onScroll:l,barInit:r,tabInit:c,newsListInit:d,pullHandler:_,refreshHandler:g}},data(){var e=["推荐","最新","科技","社会","数码","财经","娱乐","教育","体育","军事","历史"],t={};return e.forEach((e=>{t[e]={data:[],isEnd:!1}})),{tabItems:e,selectedTabIndex:0,newsArray:t,navBarHideTimeout:null,pullToRefreshText:"",isLoading:!1,isError:!1,fetchLimit:5,newsBroadcastTimeout:null}},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),speek(e,t,n){try{JS.speek(e,t,n)}catch(Wt){console.log(Wt)}},longPressHandler(e){var t=this;return function(){console.log("long press",e),t.speek(e.title,!0,!0)}},getTabName(e,t="zh"){return"zh"==t?this.tabItems[e]:"en"==t?this.tabItemsEN[e]:void 0},getNewsList(e){return this.newsArray[this.getTabName(e)]["data"]},setNewsList(e,t){this.newsArray[this.getTabName(e)]["data"]=t},appendNewsList(e,t){var n=this.newsArray[this.getTabName(e)]["data"];t.forEach((e=>{var t=e.id;-1==n.findIndex((e=>e.id==t))&&n.push(e)})),this.newsArray[this.getTabName(e)]["data"]=n},fetchNews(){this.isLoading=!0;var e=new URLSearchParams,t=this.getTabName(this.selectedTabIndex);e.append("limit",this.fetchLimit),x(t,e).then((e=>{console.log(e),this.setNewsList(this.selectedTabIndex,e),this.isError=!1})).catch((e=>{this.isError=!0,console.log(e),le.speek("加载失败，点按刷新",!0,!0)})).finally((()=>{this.isLoading=!1}))},fetchMore(){var e=this.getNewsList(this.selectedTabIndex).length,t=new URLSearchParams,n=this.getTabName(this.selectedTabIndex);if(e>0){var a=this.getNewsList(this.selectedTabIndex)[e-1].created_at;t.append("offset",a)}t.append("limit",this.fetchLimit),x(n,t).then((e=>{console.log(e),e.length<this.fetchLimit&&(this.newsArray[this.getTabName(this.selectedTabIndex)]["isEnd"]=!0),this.appendNewsList(this.selectedTabIndex,e)})).catch((e=>{console.log(e)})).finally((()=>{}))},showNewsDetail(e){clearTimeout(this.newsBroadcastTimeout);try{le.speek("查看详情",!0,!0),JS.showNewsDetail(e)}catch(Wt){location.href=`/newsviewer.html?id=${e}`,console.log(Wt)}console.log(e)}},mounted(){le=this,this.fetchNews()},watch:{selectedTabIndex(e){re.slideTo(e),ce.slideTo(e),0==this.getNewsList(e).length&&this.fetchNews(),this.speek(this.getTabName(e),!0,!0)}}};const he=(0,I.Z)(ge,[["render",z],["__scopeId","data-v-a4c244e4"]]);var pe=he,me={name:"HomeView",data(){return{last_scroll_top:0,navBarHideInterval:null}},components:{NewsView:pe},methods:{}};const we=(0,I.Z)(me,[["render",C],["__scopeId","data-v-eddb486a"]]);var be=we,ve=n.p+"img/person.308b1466.svg",fe=n.p+"img/personal.f0607d7c.svg",ke=n.p+"img/arrow.fb108c7d.svg",Se=n.p+"img/settings.180441a8.svg",ye=n.p+"img/about.36bd48b9.svg";const Te=e=>((0,i.dD)("data-v-34af78b2"),e=e(),(0,i.Cn)(),e),xe={class:"frame"},Ae=Te((()=>(0,i._)("br",null,null,-1))),Le=Te((()=>(0,i._)("h2",null,"我的",-1))),Ie=Te((()=>(0,i._)("br",null,null,-1))),Ne=Te((()=>(0,i._)("br",null,null,-1))),De={key:0,onclick:"JS.qqlogin()",style:{cursor:"pointer","text-align":"center",width:"25vw",margin:"0 auto"}},He=Te((()=>(0,i._)("img",{style:{width:"100%"},src:ve},null,-1))),Be=Te((()=>(0,i._)("span",{style:{display:"block"}},"未登录",-1))),Ce=[He,Be],Re={key:1,onclick:"JS.logout()",style:{cursor:"pointer","text-align":"center",width:"25vw",margin:"0 auto"}},Oe=["src"],Me={style:{display:"block"}},Pe=Te((()=>(0,i._)("br",null,null,-1))),Ue=Te((()=>(0,i._)("br",null,null,-1))),ze={key:2,class:"wode-item"},qe=Te((()=>(0,i._)("img",{src:fe},null,-1))),Ee=Te((()=>(0,i._)("span",null,"我的收藏",-1))),je=Te((()=>(0,i._)("img",{style:{"margin-left":"auto"},src:ke},null,-1))),Je=[qe,Ee,je],Ze=Te((()=>(0,i._)("div",{onclick:"JS.settings()",class:"wode-item"},[(0,i._)("img",{src:Se}),(0,i._)("span",null,"设置"),(0,i._)("img",{style:{"margin-left":"auto"},src:ke})],-1))),We=Te((()=>(0,i._)("div",{onclick:"JS.aboutus()",class:"wode-item"},[(0,i._)("img",{src:ye}),(0,i._)("span",null,"关于我们"),(0,i._)("img",{style:{"margin-left":"auto"},src:ke})],-1)));function Ve(e,t,n,a,o,l){return(0,i.wg)(),(0,i.iD)("div",xe,[Ae,Le,Ie,Ne,l.loginState.logedin?((0,i.wg)(),(0,i.iD)("div",Re,[(0,i._)("img",{style:{width:"100%","border-radius":"10%"},src:l.get_avatar_url()},null,8,Oe),(0,i._)("span",Me,(0,s.zw)(l.loginState.nickname),1)])):((0,i.wg)(),(0,i.iD)("div",De,Ce)),Pe,Ue,l.loginState.logedin?((0,i.wg)(),(0,i.iD)("div",ze,Je)):(0,i.kq)("",!0),Ze,We])}var Ye={name:"aboutView",data(){return{}},computed:{loginState:{get(){return this.$store.state.loginState},set(e){this.$store.commit("set_loginState",e)}}},mounted(){},methods:{get_avatar_url:function(){var e="https://aisee.idealbroker.cn",t="";try{e=JS.get_httpBaseUrl(),t=JS.get_token()}catch(Wt){console.log(Wt)}return e+"/user/avatar?token="+t}}};const Fe=(0,I.Z)(Ye,[["render",Ve],["__scopeId","data-v-34af78b2"]]);var Ge=Fe;const Ke=e=>((0,i.dD)("data-v-cb0079c0"),e=e(),(0,i.Cn)(),e),Xe={class:"frame"},Qe=Ke((()=>(0,i._)("br",null,null,-1))),$e=Ke((()=>(0,i._)("h2",null,"工具箱",-1))),et=Ke((()=>(0,i._)("br",null,null,-1))),tt=Ke((()=>(0,i._)("br",null,null,-1))),nt=Ke((()=>(0,i._)("div",{class:"item",onclick:"JS.camera()",style:{background:"#2195f31c",color:"#2196f3"}},[(0,i._)("h3",null,"AI识物"),(0,i._)("div",null,"对取景框中的物体进行识别并提示用户 ")],-1))),at=Ke((()=>(0,i._)("div",{class:"item",style:{background:"#ff980014",color:"#ff9800"}},[(0,i._)("h3",null,"AI读书"),(0,i._)("div",null,"通过OCR和TTS辅助阅读")],-1))),it=[Qe,$e,et,tt,nt,at];function st(e,t){return(0,i.wg)(),(0,i.iD)("div",Xe,it)}const ot={},lt=(0,I.Z)(ot,[["render",st],["__scopeId","data-v-cb0079c0"]]);var rt=lt,ct=n.p+"img/search.cebd93e1.svg";const dt=e=>((0,i.dD)("data-v-20973c6a"),e=e(),(0,i.Cn)(),e),ut=dt((()=>(0,i._)("br",null,null,-1))),_t=dt((()=>(0,i._)("h2",null,"搜索",-1))),gt=dt((()=>(0,i._)("br",null,null,-1))),ht=dt((()=>(0,i._)("br",null,null,-1))),pt={id:"search"},mt=dt((()=>(0,i._)("img",{src:ct,height:"60%",style:{display:"block"}},null,-1))),wt=[mt],bt=dt((()=>(0,i._)("br",null,null,-1))),vt={class:"block"},ft={class:"two-columns-cards"},kt=["onClick"],St={class:"card"},yt=["src"],Tt={key:1,class:"card-image",src:"https://xioyuna.com/envato/yui/demo/Yui/img/thumb-5.jpg"},xt={class:"card-infos"},At={class:"card-title"},Lt={style:{height:"40px","line-height":"40px","font-size":"25px"}},It=dt((()=>(0,i._)("div",{style:{height:"80px",hidth:"100vw"}},null,-1)));function Nt(e,t,n,o,l,r){const c=(0,i.up)("loading"),d=(0,i.Q2)("touch");return(0,i.wg)(),(0,i.iD)("div",{class:"frame",onScrollPassive:t[2]||(t[2]=(...e)=>r.handleScroll&&r.handleScroll(...e))},[ut,_t,gt,ht,(0,i._)("div",pt,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchfield=e),type:"text",placeholder:"在这里键入关键词"},null,512),[[a.nr,l.searchfield]]),(0,i._)("button",{onClick:t[1]||(t[1]=e=>r.search())},wt)]),(0,i.Wm)(c,{active:l.isLoading,"can-cancel":!1,"is-full-page":!1,opacity:.5},null,8,["active","opacity"]),bt,(0,i._)("div",vt,[(0,i._)("div",ft,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.resultList,(e=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("a",{key:e.id,onClick:t=>r.showNewsDetail(e.id)},[(0,i._)("div",St,[e.bk_img?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"card-image",src:e.bk_img},null,8,yt)):((0,i.wg)(),(0,i.iD)("img",Tt)),(0,i._)("div",xt,[(0,i._)("h2",At,(0,s.zw)(e.title),1)])])],8,kt)),[[d,r.longPressHandler(e),"longtap"]]))),128))]),(0,i._)("div",Lt,(0,s.zw)(l.bottomText),1),It])],32)}var Dt={components:{Loading:_e()},data(){return{searchfield:"",fetchLimit:20,resultList:[],isLoading:!1,bottomText:"",debounceTimer:null,isEnd:!1}},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),speek(e,t,n){try{JS.speek(e,t,n)}catch(Wt){console.log(Wt)}},longPressHandler(e){var t=this;return function(){console.log("long press",e),t.speek(e.title,!0,!0)}},handleScroll(e){e.target.scrollTop>0&&(this.hide_Navbar(),clearInterval(this.navBarHideInterval),this.navBarHideInterval=setInterval((()=>{this.show_Navbar()}),500)),this.isLoading||this.isEnd||e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight&&(clearTimeout(this.debounceTimer),this.bottomText="正在加载...",this.isLoading=!0,this.debounceTimer=setTimeout((()=>{this.fetchMore()}),500),console.log("滚动到底部"))},setResultList(e){e.length<this.fetchLimit?(this.bottomText="没有更多了",this.isEnd=!0):this.bottomText="",this.resultList=e},appendResultList(e){e.length<this.fetchLimit?(this.bottomText="没有更多了",this.isEnd=!0):this.bottomText="";var t=this.resultList;e.forEach((e=>{var n=e.id;-1==t.findIndex((e=>e.id==n))&&t.push(e)})),this.resultList=t},search(){this.isLoading=!0,this.bottomText="正在加载...",this.isEnd=!1;var e=new URLSearchParams;e.append("payload",this.searchfield),e.append("limit",this.fetchLimit),A(e).then((e=>{console.log(e),e.success?this.setResultList(e.data):this.bottomText=e.description})).finally((()=>{this.isLoading=!1}))},fetchMore(){this.isEnd=!1;var e=new URLSearchParams;e.append("payload",this.searchfield),e.append("offset",this.resultList.length),e.append("limit",this.fetchLimit),A(e).then((e=>{console.log(e),e.success?this.appendResultList(e.data):this.bottomText=e.description})).finally((()=>{this.isLoading=!1}))},showNewsDetail(e){try{this.speek("查看详情",!0,!0),JS.showNewsDetail(e)}catch(Wt){location.href=`/newsviewer.html?id=${e}`,console.log(Wt)}console.log(e)}}};const Ht=(0,I.Z)(Dt,[["render",Nt],["__scopeId","data-v-20973c6a"]]);var Bt=Ht;const Ct=[{path:"/",name:"新闻",component:be},{path:"/about",name:"我的",component:Ge},{path:"/toolbox",name:"工具箱",component:rt},{path:"/search",name:"搜索",component:Bt}],Rt=(0,H.p7)({history:(0,H.r5)(),routes:Ct});var Ot=!0;Rt.afterEach(((e,t)=>{console.log(e.name),Ot||JS.speek(e.name,!0,!0),Ot=!1}));var Mt=Rt,Pt=n(4239),Ut=n(6038),zt=n(4840),qt=n(6553),Et=n.n(qt),jt=n(9922);const Jt={converterOptions:{includeSeconds:!1},locale:zt.Z},Zt=(0,a.ri)(D);Zt.use(Pt.Z).use(Mt).use(Ut.Z,Jt).use(Et()).use(jt.Z).mount("#app")},4239:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var vuex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8874);__webpack_exports__["Z"]=(0,vuex__WEBPACK_IMPORTED_MODULE_0__.MT)({state:{loginState:{logedin:!1,nickname:"",id:0},navBarHidden:!1,micServiceRunning:!1},getters:{},mutations:{set_loginState(e,t){e.loginState=t},set_navBarHidden(e,t){e.navBarHidden=t},set_micServiceRunning(e,t){e.micServiceRunning=t}},actions:{update_loginState(cxt){try{var t=eval("("+JS.get_loginState()+")");cxt.commit("set_loginState",t)}catch{return void console.log("JSbridge not found!")}},show_Navbar(e){e.commit("set_navBarHidden",!1)},hide_Navbar(e){e.commit("set_navBarHidden",!0)},update_micServiceState(cxt){try{var t=eval("("+JS.get_micServiceState()+")");cxt.commit("set_micServiceRunning",t)}catch{return void console.log("JSbridge not found!")}}},modules:{}})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,n,a,i){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],i=e[c][2];for(var o=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](n[l])}))?n.splice(l--,1):(o=!1,i<s&&(s=i));if(o){e.splice(c--,1);var r=a();void 0!==r&&(t=r)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,a,i]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.j=826}(),function(){__webpack_require__.p=""}(),function(){var e={826:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,s=n[0],o=n[1],l=n[2],r=0;if(s.some((function(t){return 0!==e[t]}))){for(a in o)__webpack_require__.o(o,a)&&(__webpack_require__.m[a]=o[a]);if(l)var c=l(__webpack_require__)}for(t&&t(n);r<s.length;r++)i=s[r],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(c)},n=self["webpackChunkaisee_ui"]=self["webpackChunkaisee_ui"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(9927)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=index.2cda0d87.js.map
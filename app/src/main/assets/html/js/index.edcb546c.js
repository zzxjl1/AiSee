(function(){"use strict";var __webpack_modules__={887:function(e,t,i){var n=i(9242),s=i(3396),a=i(7139),l=i.p+"img/notebook.17e4521e.svg",o=i.p+"img/search.cebd93e1.svg",r="data:image/png;base64,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",c=i.p+"img/web.18779cbc.svg",d=i.p+"img/person.308b1466.svg";const u=(0,s._)("div",{class:"tab-frame"},[(0,s._)("img",{src:l}),(0,s._)("span",null,"新闻")],-1),_=(0,s._)("div",{class:"tab-frame"},[(0,s._)("img",{src:o}),(0,s._)("span",null,"搜索")],-1),h={class:"tab-item"},g=(0,s._)("img",{style:{width:"45px",padding:"0"},src:r},null,-1),p=(0,s._)("span",null,"语音控制",-1),m=[g,p],w=(0,s._)("div",{class:"tab-frame"},[(0,s._)("img",{src:c}),(0,s._)("span",null,"工具箱")],-1),v=(0,s._)("div",{class:"tab-frame"},[(0,s._)("img",{src:d}),(0,s._)("span",null,"我的")],-1);function b(e,t,i,n,l,o){const r=(0,s.up)("router-link"),c=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",{id:"nav",class:(0,a.C_)({hidden:o.isHidden})},[(0,s.Wm)(r,{to:"/",class:"tab-item"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(r,{to:"/search",class:"tab-item"},{default:(0,s.w5)((()=>[_])),_:1}),(0,s._)("a",h,[(0,s._)("div",{class:(0,a.C_)(["tab-frame",{changecolor:o.micServiceRunning}]),onclick:"JS.toggle_micService()"},m,2)]),(0,s.Wm)(r,{to:"/toolbox",class:"tab-item"},{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(r,{to:"/about",class:"tab-item"},{default:(0,s.w5)((()=>[v])),_:1})],2),(0,s.Wm)(c,null,{default:(0,s.w5)((({Component:e})=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(),(0,s.j4)((0,s.LL)(e)))],1024))])),_:1})],64)}var f=i(8874),k=i(6265),S=i.n(k);S().defaults.timeout=6e4,S().defaults.withCredentials=!0,S().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";try{S().defaults.baseURL=JS.get_httpBaseUrl()}catch(Oi){S().defaults.baseURL="http://localhost:4000"}function y(e,t={}){return new Promise(((i,n)=>{S().get(e,{params:t}).then((e=>{i(e.data)})).catch((e=>{n(e)}))}))}const T=()=>y("/ping"),x=(e,t)=>y(`/news/${e}`,t),A=e=>y("/news/search",e),D=e=>y("/news/trending",e),L=e=>y("/user/favorite",e);var N={name:"navBar",data(){return{}},computed:{isHidden:{get(){return this.$store.state.navBarHidden}},micServiceRunning:{get(){return this.$store.state.micServiceRunning}}},methods:{...(0,f.nv)(["update_loginState"]),startcapture(){JS.startcapture()}},mounted(){this.update_loginState(),T().then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}},H=i(89);const C=(0,H.Z)(N,[["render",b]]);var I=C,B=i(678);const R={class:"home"};function O(e,t,i,n,a,l){const o=(0,s.up)("NewsView");return(0,s.wg)(),(0,s.iD)("div",R,[(0,s.Wm)(o)])}const M=e=>((0,s.dD)("data-v-5e8b5672"),e=e(),(0,s.Cn)(),e),z=M((()=>(0,s._)("span",{style:{width:"100%"}},"加载失败",-1))),U=[z],P={class:"pull-to-refresh"},J=(0,s.Uk)("到底了");function q(e,t,i,n,l,o){const r=(0,s.up)("swiper-slide"),c=(0,s.up)("swiper"),d=(0,s.up)("loading"),u=(0,s.up)("NewsItem"),_=(0,s.Q2)("touch");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c,{id:"tab",class:"tab","slides-per-view":5,"free-mode":!0,onBeforeInit:n.barInit,modules:n.modules},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabItems,((e,t)=>((0,s.wg)(),(0,s.j4)(r,{key:t,class:(0,a.C_)(["tabItem",{active:t==l.selectedTabIndex}]),onClick:e=>o.onTabClick(t)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["onBeforeInit","modules"]),(0,s.Wm)(c,{"slides-per-view":1,spaceBetween:0,onSlideChange:n.onTabSlideChange,onSliderMove:n.onScroll,onBeforeInit:n.tabInit,modules:n.modules},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{active:l.isLoading,"can-cancel":!1,"is-full-page":!1,opacity:.5},null,8,["active","opacity"]),l.isError?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"loading-overlay",onClick:t[0]||(t[0]=(...e)=>o.fetchNews&&o.fetchNews(...e))},U)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabItems,((t,i)=>((0,s.wg)(),(0,s.j4)(r,{key:i,class:"container"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"swiper-fix","slides-per-view":2.5,direction:"vertical",spaceBetween:0,"auto-height":!0,scrollbar:{hide:!0},onSlideChange:n.onNewsSlideChange,onSliderMove:n.onScroll,onTouchMove:n.pullHandler,onTouchEnd:n.refreshHandler,modules:n.modules},{default:(0,s.w5)((()=>[(0,s._)("div",P,(0,a.zw)(l.pullToRefreshText),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.newsArray[t]["data"],((t,i)=>((0,s.wg)(),(0,s.j4)(r,{key:i},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(u,{title:t.title,tags:t.tags,created_at:t.created_at,source:t.source,bk_img:t.background_img,click_count:t.click_count,like_count:t.like_count,comment_count:t.comment_count,onClick:i=>e.$utils.showNewsDetail(t.id)},null,8,["title","tags","created_at","source","bk_img","click_count","like_count","comment_count","onClick"]),[[_,o.longPressHandler(t),"longtap"]])])),_:2},1024)))),128)),l.newsArray[t]["isEnd"]?((0,s.wg)(),(0,s.j4)(r,{key:0,style:{background:"wheat"}},{default:(0,s.w5)((()=>[J])),_:1})):(0,s.kq)("",!0)])),_:2},1032,["slides-per-view","onSlideChange","onSliderMove","onTouchMove","onTouchEnd","modules"])])),_:2},1024)))),128))])),_:1},8,["onSlideChange","onSliderMove","onBeforeInit","modules"])],64)}var E=i(4870),j=i(2768),Z=i(9638);const W=e=>((0,s.dD)("data-v-6cd8941f"),e=e(),(0,s.Cn)(),e),Y={class:"card"},V=["src"],F={class:"card-infos"},K={class:"card-date"},G=W((()=>(0,s._)("span",{class:"iconfont icon-clock"},null,-1))),X=(0,s.Uk)("  "),Q={class:"tags"},$={class:"card-title"},ee={class:"card-bottom"},te={class:"card-source"},ie={class:"card-statistics"},ne=W((()=>(0,s._)("span",{class:"iconfont icon-view"},null,-1))),se=W((()=>(0,s._)("span",{class:"iconfont icon-like-fill"},null,-1))),ae=W((()=>(0,s._)("span",{class:"iconfont icon-comment"},null,-1)));function le(e,t,i,n,l,o){const r=(0,s.up)("timeago");return(0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("img",{class:"card-image",src:i.bk_img?i.bk_img:"https://mdbcdn.b-cdn.net/img/new/fluid/city/018.webp"},null,8,V),(0,s._)("div",F,[(0,s._)("div",K,[G,X,(0,s.Wm)(r,{datetime:i.created_at},null,8,["datetime"])]),(0,s._)("div",Q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tags,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{key:t,style:{"background-color":"#ff2d55"},class:"chip"},(0,a.zw)(e),1)))),128))]),(0,s._)("h2",$,(0,a.zw)(i.title),1),(0,s._)("div",ee,[(0,s._)("div",te,[(0,s._)("div",null,"来源于 "+(0,a.zw)(i.source),1)]),(0,s._)("div",ie,[ne,(0,s.Uk)((0,a.zw)(i.click_count)+" ",1),se,(0,s.Uk)((0,a.zw)(i.like_count)+" ",1),ae,(0,s.Uk)((0,a.zw)(i.comment_count),1)])])])])}var oe={name:"NewsItem",data(){return{}},props:{source:String,title:String,tags:Array,created_at:String,click_count:Number,like_count:Number,comment_count:Number,bk_img:String}};const re=(0,H.Z)(oe,[["render",le],["__scopeId","data-v-6cd8941f"]]);var ce,de,ue,_e=re,he=i(3752),ge=i.n(he),pe={},me={name:"newsView",components:{Swiper:j.tq,SwiperSlide:j.o5,NewsItem:_e,Loading:ge()},setup(){var e=(0,E.iH)({});const t=(0,s.FN)(),{$store:i}=t.appContext.app.config.globalProperties,n=e=>{console.log("news slide change",e);var t=e.activeIndex;pe[ce.selectedTabIndex]=e,console.log("newsSwiper",pe),t+5>e.slides.length&&ce.fetchMore()},a=e=>{console.log("tab slide change",e),ce.selectedTabIndex=e.activeIndex},l=()=>{i.dispatch("hide_Navbar"),clearTimeout(e),e=setTimeout((()=>{i.dispatch("show_Navbar")}),500)},o=e=>{de=e},r=e=>{ue=e};var c="";const d=e=>{!e.isBeginning||e.translate<=0?ce.pullToRefreshText="":(c=ce.pullToRefreshText,e.translate<70&&e.translate>20?ce.pullToRefreshText="继续下拉":e.translate>70&&(ce.pullToRefreshText="松开刷新"),c!=ce.pullToRefreshText&&ce.speek(ce.pullToRefreshText,!0,!0))},u=e=>{e.translate>70&&(ce.fetchNews(),ce.speek("刷新",!0,!0))};return{modules:[Z.LW,Z.Rv],onNewsSlideChange:n,onTabSlideChange:a,onScroll:l,barInit:o,tabInit:r,pullHandler:d,refreshHandler:u}},data(){var e=["推荐","最新","科技","社会","数码","财经","娱乐","教育","体育","军事","历史"],t={};return e.forEach((e=>{t[e]={data:[],isEnd:!1}})),{tabItems:e,selectedTabIndex:0,newsArray:t,navBarHideTimeout:null,pullToRefreshText:"",isLoading:!1,isError:!1,fetchLimit:5,newsBroadcastTimeout:null}},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),speek(e,t,i){try{JS.speek(e,t,i)}catch(Oi){console.log(e)}},longPressHandler(e){var t=this;return function(){console.log("long press",e),t.speek(e.title,!0,!0)}},getTabName(e,t="zh"){return"zh"==t?this.tabItems[e]:"en"==t?this.tabItemsEN[e]:void 0},getNewsList(e){return this.newsArray[this.getTabName(e)]["data"]},setNewsList(e,t){this.newsArray[this.getTabName(e)]["data"]=t},appendNewsList(e,t){var i=this.newsArray[this.getTabName(e)]["data"];t.forEach((e=>{var t=e.id;-1==i.findIndex((e=>e.id==t))&&i.push(e)})),this.newsArray[this.getTabName(e)]["data"]=i},fetchNews(){this.isLoading=!0;var e=new URLSearchParams,t=this.getTabName(this.selectedTabIndex);e.append("limit",this.fetchLimit),x(t,e).then((e=>{console.log(e),this.setNewsList(this.selectedTabIndex,e),this.isError=!1})).catch((e=>{this.isError=!0,console.log(e),ce.speek("加载失败，点按刷新",!0,!0)})).finally((()=>{this.isLoading=!1}))},fetchMore(){var e=this.getNewsList(this.selectedTabIndex).length,t=new URLSearchParams,i=this.getTabName(this.selectedTabIndex);if(e>0){var n=this.getNewsList(this.selectedTabIndex)[e-1].created_at;t.append("offset",n)}t.append("limit",this.fetchLimit),x(i,t).then((e=>{console.log(e),e.length<this.fetchLimit&&(this.newsArray[this.getTabName(this.selectedTabIndex)]["isEnd"]=!0),this.appendNewsList(this.selectedTabIndex,e)})).catch((e=>{console.log(e)})).finally((()=>{}))},onTabClick(e){console.log(e),e!=this.selectedTabIndex?this.selectedTabIndex=e:pe[e].slideTo(0)}},mounted(){ce=this,this.fetchNews()},watch:{selectedTabIndex(e){de.slideTo(e),ue.slideTo(e),0==this.getNewsList(e).length&&this.fetchNews(),this.speek(this.getTabName(e),!0,!0)}}};const we=(0,H.Z)(me,[["render",q],["__scopeId","data-v-5e8b5672"]]);var ve=we,be={name:"HomeView",data(){return{last_scroll_top:0,navBarHideInterval:null}},components:{NewsView:ve},methods:{}};const fe=(0,H.Z)(be,[["render",O],["__scopeId","data-v-eddb486a"]]);var ke=fe,Se=i.p+"img/person.308b1466.svg",ye=i.p+"img/personal.f0607d7c.svg",Te=i.p+"img/arrow.fb108c7d.svg",xe=i.p+"img/settings.180441a8.svg",Ae=i.p+"img/about.36bd48b9.svg";const De=e=>((0,s.dD)("data-v-617122c2"),e=e(),(0,s.Cn)(),e),Le={class:"frame"},Ne=De((()=>(0,s._)("br",null,null,-1))),He=De((()=>(0,s._)("h2",null,"我的",-1))),Ce=De((()=>(0,s._)("br",null,null,-1))),Ie=De((()=>(0,s._)("br",null,null,-1))),Be={key:0,onclick:"JS.qqlogin()",style:{cursor:"pointer","text-align":"center",width:"25vw",margin:"0 auto"}},Re=De((()=>(0,s._)("img",{style:{width:"100%"},src:Se},null,-1))),Oe=De((()=>(0,s._)("span",{style:{display:"block"}},"未登录",-1))),Me=[Re,Oe],ze={key:1,onclick:"JS.logout()",style:{cursor:"pointer","text-align":"center",width:"25vw",margin:"0 auto"}},Ue=["src"],Pe={style:{display:"block"}},Je=De((()=>(0,s._)("br",null,null,-1))),qe=De((()=>(0,s._)("br",null,null,-1))),Ee=De((()=>(0,s._)("img",{src:ye},null,-1))),je=De((()=>(0,s._)("span",null,"我的收藏",-1))),Ze=De((()=>(0,s._)("img",{style:{"margin-left":"auto"},src:Te},null,-1))),We=De((()=>(0,s._)("div",{onclick:"JS.settings()",class:"wode-item"},[(0,s._)("img",{src:xe}),(0,s._)("span",null,"设置"),(0,s._)("img",{style:{"margin-left":"auto"},src:Te})],-1))),Ye=De((()=>(0,s._)("div",{onclick:"JS.aboutus()",class:"wode-item"},[(0,s._)("img",{src:Ae}),(0,s._)("span",null,"关于我们"),(0,s._)("img",{style:{"margin-left":"auto"},src:Te})],-1)));function Ve(e,t,i,n,l,o){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Le,[Ne,He,Ce,Ie,o.loginState.logedin?((0,s.wg)(),(0,s.iD)("div",ze,[(0,s._)("img",{style:{width:"100%","border-radius":"10%"},src:o.get_avatar_url()},null,8,Ue),(0,s._)("span",Pe,(0,a.zw)(o.loginState.nickname),1)])):((0,s.wg)(),(0,s.iD)("div",Be,Me)),Je,qe,o.loginState.logedin?((0,s.wg)(),(0,s.j4)(r,{key:2,to:"/favorite",onClick:t[0]||(t[0]=t=>e.hide_Navbar()),class:"wode-item"},{default:(0,s.w5)((()=>[Ee,je,Ze])),_:1})):(0,s.kq)("",!0),We,Ye])}var Fe={name:"aboutView",data(){return{}},computed:{loginState:{get(){return this.$store.state.loginState},set(e){this.$store.commit("set_loginState",e)}}},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),get_avatar_url:function(){var e="https://aisee.idealbroker.cn",t="";try{e=JS.get_httpBaseUrl(),t=JS.get_token()}catch(Oi){console.log(Oi)}return e+"/user/avatar?token="+t}}};const Ke=(0,H.Z)(Fe,[["render",Ve],["__scopeId","data-v-617122c2"]]);var Ge=Ke;const Xe=e=>((0,s.dD)("data-v-d36051c8"),e=e(),(0,s.Cn)(),e),Qe={class:"frame"},$e=Xe((()=>(0,s._)("br",null,null,-1))),et=Xe((()=>(0,s._)("h2",null,"工具箱",-1))),tt=Xe((()=>(0,s._)("br",null,null,-1))),it=Xe((()=>(0,s._)("br",null,null,-1))),nt=Xe((()=>(0,s._)("div",{class:"item",onclick:"JS.obj()",style:{background:"#2195f31c",color:"#2196f3"}},[(0,s._)("h3",null,"AI识物"),(0,s._)("div",null,"对取景框中的物体进行识别并提示用户 ")],-1))),st=Xe((()=>(0,s._)("div",{class:"item",onclick:"JS.ocr()",style:{background:"#ff980014",color:"#ff9800"}},[(0,s._)("h3",null,"AI读书"),(0,s._)("div",null,"通过OCR和TTS辅助阅读")],-1))),at=[$e,et,tt,it,nt,st];function lt(e,t){return(0,s.wg)(),(0,s.iD)("div",Qe,at)}const ot={},rt=(0,H.Z)(ot,[["render",lt],["__scopeId","data-v-d36051c8"]]);var ct=rt,dt=i.p+"img/search.cebd93e1.svg";const ut=e=>((0,s.dD)("data-v-5b198d62"),e=e(),(0,s.Cn)(),e),_t=ut((()=>(0,s._)("br",null,null,-1))),ht=ut((()=>(0,s._)("h2",null,"搜索",-1))),gt=ut((()=>(0,s._)("br",null,null,-1))),pt=ut((()=>(0,s._)("br",null,null,-1))),mt={id:"search"},wt=ut((()=>(0,s._)("img",{src:dt,height:"60%",style:{display:"block"}},null,-1))),vt=[wt],bt=ut((()=>(0,s._)("br",null,null,-1))),ft={class:"block"},kt={key:0},St={key:0},yt=ut((()=>(0,s._)("h3",null,"正在热搜",-1))),Tt={class:"list no-hairlines trending-search"},xt={class:"item-inner"},At={class:"item-title"},Dt=["onClick"],Lt={key:1},Nt=ut((()=>(0,s._)("h3",null,"大家都在看",-1))),Ht={class:"list no-hairlines trending-search"},Ct={class:"item-inner"},It={class:"item-title"},Bt=["onClick"],Rt={class:"two-columns-cards"},Ot=["onClick"],Mt={class:"card"},zt=["src"],Ut={key:1,class:"card-image",src:"https://xioyuna.com/envato/yui/demo/Yui/img/thumb-5.jpg"},Pt={class:"card-infos"},Jt={class:"card-title"},qt={style:{height:"40px","line-height":"40px","font-size":"25px",padding:"20px"}},Et=ut((()=>(0,s._)("div",{style:{height:"80px",hidth:"100vw"}},null,-1)));function jt(e,t,i,l,o,r){const c=(0,s.up)("loading"),d=(0,s.Q2)("touch");return(0,s.wg)(),(0,s.iD)("div",{class:"frame",onScrollPassive:t[2]||(t[2]=(...e)=>r.handleScroll&&r.handleScroll(...e))},[_t,ht,gt,pt,(0,s._)("div",mt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchfield=e),type:"text",placeholder:"在这里键入关键词"},null,512),[[n.nr,o.searchfield]]),(0,s._)("button",{onClick:t[1]||(t[1]=e=>r.search())},vt)]),(0,s.Wm)(c,{active:o.isLoading,"can-cancel":!1,"is-full-page":!1,opacity:.5},null,8,["active","opacity"]),bt,(0,s._)("div",ft,[o.resultShown?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kt,[o.trending.search.length?((0,s.wg)(),(0,s.iD)("div",St,[yt,(0,s._)("div",Tt,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.trending.search,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"item-content"},[(0,s._)("div",xt,[(0,s._)("div",At,[(0,s._)("a",{class:"link",onClick:t=>r.doSearch(e)},(0,a.zw)(e),9,Dt)])])])))),128))])])])):((0,s.wg)(),(0,s.iD)("div",Lt,[Nt,(0,s._)("div",Ht,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.trending.view,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"item-content"},[(0,s._)("div",Ct,[(0,s._)("div",It,[(0,s._)("a",{class:"link",onClick:t=>r.doSearch(e)},(0,a.zw)(e),9,Bt)])])])))),128))])])]))])),(0,s._)("div",Rt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.resultList,(e=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("a",{key:e.id,onClick:t=>r.showNewsDetail(e.id)},[(0,s._)("div",Mt,[e.bk_img?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"card-image",src:e.bk_img},null,8,zt)):((0,s.wg)(),(0,s.iD)("img",Ut)),(0,s._)("div",Pt,[(0,s._)("h2",Jt,(0,a.zw)(e.title),1)])])],8,Ot)),[[d,r.longPressHandler(e),"longtap"]]))),128))]),(0,s._)("div",qt,(0,a.zw)(o.bottomText),1),Et])],32)}var Zt={components:{Loading:ge()},data(){return{searchfield:"",fetchLimit:20,resultList:[],isLoading:!1,bottomText:"",debounceTimer:null,isEnd:!1,resultShown:!1,trending:{view:[],search:[]}}},watch:{searchfield(e){0==e.length&&(this.resultShown=!1,this.resultList=[],this.isEnd=!1,this.bottomText="",this.getTrending())}},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),speek(e,t,i){try{JS.speek(e,t,i)}catch(Oi){console.log(Oi)}},longPressHandler(e){var t=this;return function(){console.log("long press",e),t.speek(e.title,!0,!0)}},handleScroll(e){e.target.scrollTop>0&&(this.hide_Navbar(),clearInterval(this.navBarHideInterval),this.navBarHideInterval=setInterval((()=>{this.show_Navbar()}),500)),this.isLoading||this.isEnd||!this.resultShown||e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight&&(clearTimeout(this.debounceTimer),this.bottomText="正在加载...",this.isLoading=!0,this.debounceTimer=setTimeout((()=>{this.fetchMore()}),500),console.log("滚动到底部"))},setResultList(e){e.length<this.fetchLimit?(this.bottomText="没有更多了",this.isEnd=!0):this.bottomText="",this.resultList=e},appendResultList(e){e.length<this.fetchLimit?(this.bottomText="没有更多了",this.isEnd=!0):this.bottomText="";var t=this.resultList;e.forEach((e=>{var i=e.id;-1==t.findIndex((e=>e.id==i))&&t.push(e)})),this.resultList=t},search(){if(0!=this.searchfield.length){this.isLoading=!0,this.bottomText="正在加载...",this.isEnd=!1,this.resultShown=!0;var e=new URLSearchParams;e.append("payload",this.searchfield),e.append("limit",this.fetchLimit),A(e).then((e=>{console.log(e),e.success?this.setResultList(e.data):this.bottomText=e.description})).finally((()=>{this.isLoading=!1}))}},fetchMore(){this.isEnd=!1;var e=new URLSearchParams;e.append("payload",this.searchfield),e.append("offset",this.resultList.length),e.append("limit",this.fetchLimit),A(e).then((e=>{console.log(e),e.success?this.appendResultList(e.data):this.bottomText=e.description})).finally((()=>{this.isLoading=!1}))},showNewsDetail(e){try{this.speek("查看详情",!0,!0),JS.showNewsDetail(e)}catch(Oi){location.href=`/newsviewer.html?id=${e}`,console.log(Oi)}console.log(e)},getTrending(){D().then((e=>{console.log(e),this.trending=e}))},doSearch(e){this.searchfield=e,this.search()}},mounted(){this.getTrending()}};const Wt=(0,H.Z)(Zt,[["render",jt],["__scopeId","data-v-5b198d62"]]);var Yt=Wt,Vt=i.p+"img/close.72003118.svg";const Ft=e=>((0,s.dD)("data-v-162b9c24"),e=e(),(0,s.Cn)(),e),Kt=Ft((()=>(0,s._)("img",{src:Vt},null,-1))),Gt=Ft((()=>(0,s._)("br",null,null,-1))),Xt=Ft((()=>(0,s._)("h2",null,"收藏",-1))),Qt=Ft((()=>(0,s._)("br",null,null,-1))),$t=Ft((()=>(0,s._)("br",null,null,-1))),ei={class:"block"},ti={class:"list media-list post-list"},ii=["onClick"],ni={class:"item-content"},si={class:"item-media"},ai=["src"],li={class:"item-inner"},oi={class:"item-subtitle"},ri={class:"item-title"},ci={class:"item-subtitle bottom-subtitle"},di=Ft((()=>(0,s._)("h3",null,"没有更多了",-1))),ui=Ft((()=>(0,s._)("br",null,null,-1)));function _i(e,t,i,n,l,o){const r=(0,s.up)("router-link"),c=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(r,{to:"/about",onClick:t[0]||(t[0]=t=>{e.show_Navbar(),e.$swal.close()}),class:"close-button"},{default:(0,s.w5)((()=>[Kt])),_:1}),Gt,Xt,Qt,$t,(0,s._)("div",ei,[(0,s._)("ul",ti,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.data,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id},[(0,s._)("a",{onClick:i=>e.$utils.showNewsDetail(t.id)},[(0,s._)("div",ni,[(0,s._)("div",si,[(0,s._)("img",{src:t.bk_img},null,8,ai)]),(0,s._)("div",li,[(0,s._)("div",oi,(0,a.zw)(t.category),1),(0,s._)("div",ri,(0,a.zw)(t.title),1),(0,s._)("div",ci,(0,a.zw)(t.created_at),1)])])],8,ii)])))),128))]),di,ui,(0,s.Wm)(c,{active:l.isLoading,"can-cancel":!1,"is-full-page":!0,opacity:1},null,8,["active"])])],64)}var hi={data(){return{data:null,isLoading:!1}},components:{Loading:ge()},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),fetch(){var e=new URLSearchParams;e.append("token",this.$utils.get_token());var t="";this.isLoading=!0,L(e).then((e=>{console.log(e),e.success?this.data=e.result:t=e.description})).catch((e=>{console.log(e),t=e.message})).finally((()=>{this.isLoading=!1,t&&this.$swal({title:"请求失败",text:t,icon:"error",confirmButtonText:"重试",allowOutsideClick:!1}).then((e=>{e.isConfirmed&&(console.log(e),this.fetch())}))}))}},mounted(){this.hide_Navbar(),this.fetch()},watch:{$route(e){"/favorite"==e.path&&this.fetch()}}};const gi=(0,H.Z)(hi,[["render",_i],["__scopeId","data-v-162b9c24"]]);var pi=gi;const mi=[{path:"/",name:"新闻",component:ke},{path:"/about",name:"我的",component:Ge},{path:"/toolbox",name:"工具箱",component:ct},{path:"/search",name:"搜索",component:Yt},{path:"/favorite",name:"收藏",component:pi}],wi=(0,B.p7)({history:(0,B.r5)(),routes:mi});var vi=!0;wi.afterEach(((e,t)=>{console.log(e.name),vi||JS.speek(e.name,!0,!0),vi=!1}));var bi=wi,fi=i(4239),ki=i(6038),Si=i(3963),yi=i(6553),Ti=i.n(yi),xi=i(9922);function Ai(e,t,i){try{JS.speek(e,t,i)}catch(Oi){console.log(e)}}function Di(e){try{JS.toast(e)}catch(Oi){console.log(e)}}function Li(){var e;try{e=JS.get_token()}catch(Oi){e="KpMP6U1nySvocbAWdtx4qhTZgHmFuVRi"}return e}function Ni(e){try{Ai("查看详情",!0,!0),JS.showNewsDetail(e)}catch(Oi){location.href=`/newsviewer.html?id=${e}`,console.log(Oi)}console.log(e)}function Hi(){var e;try{e=JS.get_httpBaseUrl()}catch(Oi){e="http://192.168.31.114:4000"}return e}function Ci(){var e;try{e=JS.get_wsBaseUrl()}catch(Oi){e="ws://192.168.31.114:4000"}return e}var Ii={speek:Ai,toast:Di,get_token:Li,showNewsDetail:Ni,get_http_base_url:Hi,get_ws_base_url:Ci};const Bi={converterOptions:{includeSeconds:!1},locale:Si.Z},Ri=(0,n.ri)(I);Ri.config.globalProperties.$utils=Ii,Ri.use(fi.Z).use(bi).use(ki.Z,Bi).use(Ti()).use(xi.Z).mount("#app")},4239:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var vuex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8874);__webpack_exports__["Z"]=(0,vuex__WEBPACK_IMPORTED_MODULE_0__.MT)({state:{loginState:{logedin:!1,nickname:"",id:0},navBarHidden:!1,micServiceRunning:!1},getters:{},mutations:{set_loginState(e,t){e.loginState=t},set_navBarHidden(e,t){e.navBarHidden=t},set_micServiceRunning(e,t){e.micServiceRunning=t}},actions:{update_loginState(cxt){try{var t=eval("("+JS.get_loginState()+")");cxt.commit("set_loginState",t)}catch{return void console.log("JSbridge not found!")}},show_Navbar(e){e.commit("set_navBarHidden",!1)},hide_Navbar(e){e.commit("set_navBarHidden",!0)},update_micServiceState(cxt){try{var t=eval("("+JS.get_micServiceState()+")");cxt.commit("set_micServiceRunning",t)}catch{return void console.log("JSbridge not found!")}}},modules:{}})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,i,n,s){if(!i){var a=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],s=e[c][2];for(var l=!0,o=0;o<i.length;o++)(!1&s||a>=s)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](i[o])}))?i.splice(o--,1):(l=!1,s<a&&(a=s));if(l){e.splice(c--,1);var r=n();void 0!==r&&(t=r)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,n,s]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.j=826}(),function(){__webpack_require__.p=""}(),function(){var e={826:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,s,a=i[0],l=i[1],o=i[2],r=0;if(a.some((function(t){return 0!==e[t]}))){for(n in l)__webpack_require__.o(l,n)&&(__webpack_require__.m[n]=l[n]);if(o)var c=o(__webpack_require__)}for(t&&t(i);r<a.length;r++)s=a[r],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return __webpack_require__.O(c)},i=self["webpackChunkaisee_ui"]=self["webpackChunkaisee_ui"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(887)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=index.edcb546c.js.map